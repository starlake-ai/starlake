"use strict";(self.webpackChunkstarlake=self.webpackChunkstarlake||[]).push([[5516],{3905:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>f});var r=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),p=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},m=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,s=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),c=p(a),u=n,f=c["".concat(s,".").concat(u)]||c[u]||d[u]||o;return a?r.createElement(f,i(i({ref:t},m),{},{components:a})):r.createElement(f,i({ref:t},m))}));function f(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,i=new Array(o);i[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:n,i[1]=l;for(var p=2;p<o;p++)i[p]=a[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}u.displayName="MDXCreateElement"},82908:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var r=a(87462),n=(a(67294),a(3905));const o={},i="Export",l={unversionedId:"guides/transform/export",id:"guides/transform/export",title:"Export",description:"You may export your data to files or to another database.",source:"@site/docs/0300-guides/300-transform/140-export.mdx",sourceDirName:"0300-guides/300-transform",slug:"/guides/transform/export",permalink:"/starlake/docs/next/guides/transform/export",draft:!1,editUrl:"https://github.com/starlake-ai/starlake/edit/master/docs/docs/0300-guides/300-transform/140-export.mdx",tags:[],version:"current",sidebarPosition:140,frontMatter:{},sidebar:"starlakeSidebar",previous:{title:"Python Transforms",permalink:"/starlake/docs/next/guides/transform/python"},next:{title:"Orchestration",permalink:"/starlake/docs/next/guides/transform/orchestration"}},s={},p=[{value:"Export to files",id:"export-to-files",level:2},{value:"Export to another database",id:"export-to-another-database",level:2}],m={toc:p},c="wrapper";function d(e){let{components:t,...a}=e;return(0,n.kt)(c,(0,r.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"export"},"Export"),(0,n.kt)("p",null,"You may export your data to files or to another database."),(0,n.kt)("h2",{id:"export-to-files"},"Export to files"),(0,n.kt)("p",null,"You may export to CSV / JSON / Parquet / Avro or whatever file formt supported by Apache Spark.\nYou can export the data to a CSV file using by specifying the csv format in the sink attribute of your transform."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="metadata/transform/<domain>/<transform>.sl.yml"',title:'"metadata/transform/<domain>/<transform>.sl.yml"'},"task:\n  sink:\n    format: csv\n    extension: csv\n\n")),(0,n.kt)("p",null,"The file will be saved in the ",(0,n.kt)("inlineCode",{parentName:"p"},"datasets")," folder (relative to the root path) of the project under the ",(0,n.kt)("inlineCode",{parentName:"p"},"<domain>")," folder named after the ",(0,n.kt)("inlineCode",{parentName:"p"},"<transform>")," name and the ",(0,n.kt)("inlineCode",{parentName:"p"},"extension")," set in the yaml file."),(0,n.kt)("p",null,"You may also request the file to be saved in an absolute path by specifying the file path (relative to the root path)  in the ",(0,n.kt)("inlineCode",{parentName:"p"},"path")," attribute of the sink."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="metadata/transform/<domain>/<transform>.sl.yml"',title:'"metadata/transform/<domain>/<transform>.sl.yml"'},"task:\n  sink:\n    format: csv\n    path: mnt/data/output.csv\n\n")),(0,n.kt)("p",null,"On a cloud storage, the bucket name will be prepended to the path. The file will be saved in the specified path below the root path."),(0,n.kt)("p",null,"The root path is specified in the ",(0,n.kt)("inlineCode",{parentName:"p"},"root")," key in the ",(0,n.kt)("inlineCode",{parentName:"p"},"metadata.application.sl.yml")," file."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="metadata/application.sl.yml"',title:'"metadata/application.sl.yml"'},"...\nroot: gs://my-bucket/folder1/folder2\n...\n")),(0,n.kt)("h2",{id:"export-to-another-database"},"Export to another database"),(0,n.kt)("p",null,"You may also export the data to a database. You can specify the database connection name  in the ",(0,n.kt)("inlineCode",{parentName:"p"},"sink.connectionRef")," attribute of your transform."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="metadata/transform/<domain>/<transform>.sl.yml"',title:'"metadata/transform/<domain>/<transform>.sl.yml"'},"\ntask:\n  ...\n  sink:\n    connectionRef: my_database\n    ...\n\n")))}d.isMDXComponent=!0}}]);